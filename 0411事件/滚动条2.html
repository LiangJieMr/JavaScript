<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,body,div,p{margin: 0;padding: 0;}
        #box{width: 600px;height: 500px;overflow: hidden;position: relative; border: 1px solid #ccc;margin: 50px auto;}
        #box #count{float: left; width: 500px; padding: 0 0 0 20px;position: absolute;top: 0;}
        #box #count p{line-height: 32px;}
        #box #tiao{width: 50px;height: 500px;border-left: 1px solid #ccc;float: right;position: relative;}
        #box #tiao #inn{width: 50px;height: 50px;background: red;position: absolute;top: 0;left: 0;}
    </style>
</head>

<body>
    <div id="box">
        <div id="count">
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
            <p>　　灵气复苏，地球觉醒……
                等等，这画风怎么有点不对？
                神魔养成系统激活！
                你养的竹鼠小白觉醒了噬金鼠血脉，你获得天赋【美食之舌】、【吞噬】、【暴食之胃】……
                　　你发现了一只正在被人追杀的玄水恶龟，你的宠物小白将玄水恶龟吞进了肚子。你通晓了【夺天造化术】、【化龙诀】、【封灵秘术】……
                　　你在湖里养了一条金色锦鲤，没想到是天命龙女转世。你学会了【锦鲤幸运术】、【天一生水决】、【御龙镜中隐】……
                　　你遇到了一头从灵山跑出来的灵猴，你领悟【大圣呼吸法】、【七十二变】、【斗字诀】……
                　　这是一个平凡之人得到系统，开始捕捉和养成神魔宠物，在灵气复苏的地球纵横无敌的故事。</p>
        </div>
        <div id="tiao">
            <div id="inn"></div>
        </div>
    </div>
</body>

</html>
<script src="js/base.js"></script>
<script>
    var tiao = document.getElementById("tiao");
    var inn = document.getElementById("inn");
    var count = document.getElementById("count");
    var box = document.getElementById("box");
    //滚动事件兼容
    var mousewheelevt=(/Firefox/i.test(navigator.userAgent))? "DOMMouseScroll" : "mousewheel" //FF doesn't recognize mousewheel as of FF3.x

     //滚动条滚动方向兼容
     function getWD(e) {
        var e = e || window.event;
        if(e.wheelDelta){
            return e.wheelDelta;
        }else{
            return -e.detail * 40;
        }
    }
    var step = 0;
    var jvli = (count.offsetHeight - box.offsetHeight)/45;
    var re = (count.offsetHeight - box.offsetHeight)/450;
    var num = 0;
    var timp = 0;
    var temp = 0;
    addEvent(tiao,"mousedown",fn1);
    function fn1(e){
        var disX = e.clientX;
        var disY = e.clientY;
        var boxT = box.offsetTop;//50
        inn.style.left = 0 + "px";
        inn.style.top = disY-boxT-(inn.offsetHeight/2) + "px";
        var inp = disY-boxT-(inn.offsetHeight/2);
        var innp =  inn.style.top;
        inn.style.top = disY - boxT + "px"
        temp = disY - boxT;
        count.style.top = -(re*temp) + "px";
        addEvent(tiao,"mousemove",fn2)
        function fn2(e){
            var l = e.clientY - boxT - (inn.offsetHeight/2);
                inn.style.left = 0 + "px";
                if(inn.offsetTop >= -10 && inn.offsetTop <= 460){
                    if(l >= 0 && l <= 450){
                        // console.log(l)
                        
                        count.style.top = -(re*l) + "px";
                        timp = (re*l);
                        inn.style.top =  l + "px";
                    }
                    
                }
              
        }
        addEvent(document,"mouseup",function(){
            tiao.removeEventListener("mousemove",fn2)
        })
        
    }
    addEvent(tiao,mousewheelevt,function(e){
        // count 1920
        // console.log(e.wheelDelta) //150
        // console.log(timp)
        
        step = inn.offsetTop;
        if(getWD(e) < 0){ 
            
            step += 10;
        // console.log(step);
            if(step >= 450){
                step = 450;
            }
            // num += jvli;
            // if(inn.offsetTop == 0){
            //     num = 0;
                
            // }else{
            //     num = inn.offsetTop;
            //     num += jvli;
            // }
            num += jvli;
            
            if(num >= count.offsetHeight - box.offsetHeight){
                num = count.offsetHeight - box.offsetHeight;
            }
            inn.style.top = step + "px";
            count.style.top = -num + "px";
        }else{
            // num = count.offsetHeight - box.offsetHeight + "px";
            step -= 10;
            if(step <= 0){
                step = 0;
            }
            num -= re*10;
            if(num < 0){
                num = 0;
            }
            inn.style.top = step + "px";
            count.style.top = -num + "px";
        }
        
    })

</script>